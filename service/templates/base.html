<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Scorpion for noobs</title>
    <script type="text/javascript" src="./static/js/handler.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="static/css/style.css" />
</head>
<body>
    <form class="main_form" id="image_form" enctype="multipart/form-data">
        {% csrf_token %}
        <div style="margin-top: 10px;">
            <label for="image_name">Image name</label>
            <input type="text" class="form-control" id="image_name">
        </div>
        <div class="base_image_container">
            <img src="static/images/base_image.jpg" alt="cat" width="250" height="250" id="preview">
        </div>
        <div style="margin-top: 10px;">
            <label for="image_height"></label>
            <input type="range" class="form-range" orient="vertical" max="1080" id="image_height" oninput="this.nextElementSibling.value = this.value">
            <output style="margin-left: 300px;">540</output>
        </div>
        <div style="margin-top: -20px;">
            <label for="image_width"></label>
            <input type="range" class="form-range" max="1920" id="image_width" oninput="this.nextElementSibling.value = this.value">
            <output>960</output>
        </div>
        <div style="margin-top: 10px;">
            <label for="image_file"></label>
            <input type="file" id="image_file" accept="image/*">
        </div>
        <div style="margin-top: 10px;">
            <button type="button" class="btn btn-primary" onclick="onSubmit()">Submit</button>
        </div>
    </form>
    <script>
        let img_file_input = document.getElementById("image_file");
        let preview = document.getElementById("preview");
        img_file_input.onchange = function () {
            preview.src = URL.createObjectURL(img_file_input.files[0]);
        }
    </script>
</body>
</html>